<!DOCTYPE html>
<html lang="zh-TW">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="robots" content="max-image-preview:large" />


<meta http-equiv="Cache-Control" content="no-transform" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@kyomind">
<meta property="og:type" content="article"><meta name="twitter:title" content="寫好 Python Docstring 的 4 個層次——從簡單到詳細">
  <meta property="og:title" content="寫好 Python Docstring 的 4 個層次——從簡單到詳細"><meta name="twitter:description" content="本文將分享我在過去工作經驗中所累積的 Python Docstring 寫作心得，並整理成教學指南">
  <meta property="og:description" content="本文將分享我在過去工作經驗中所累積的 Python Docstring 寫作心得，並整理成教學指南"><meta name="twitter:image" content="https://img.kyomind.tw/code-and-me.png">
  <meta property="og:image" content="https://img.kyomind.tw/code-and-me.png">
<meta name="description" content="本文將分享我在過去工作經驗中所累積的 Python Docstring 寫作心得，並整理成教學指南" />


<meta property="og:locale" content="zh-TW" />
<meta property="og:site_name" content="Code and Me" />
<meta property="article:publisher" content="https://blog.kyomind.tw" />
<meta property="article:author" content="Kyo Huang" /><meta property="article:section" content="軟體開發" />
            

  <meta property="article:modified_time" content="2025-05-20T15:04:18+08:00" />




  <meta property="article:published_time" content="2025-05-03T00:06:20+08:00" />



<meta name="author" content="Kyo Huang" />
<meta http-equiv="content-language" content="zh-TW" />
<link rel="alternate" href="/atom.xml" title="Code and Me" type="application/atom+xml">
 
 





<link rel="icon" type="image/png" sizes="144x144" href="/favicon-144x144.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" href="/favicon.ico" sizes="any">


<link rel="canonical" href="https://blog.kyomind.tw/python-docstring/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NL7WVE1X7Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NL7WVE1X7Z');

</script><script defer src="https://umami.kyomind.tw/script.js" data-website-id="95c335c2-7917-4f3a-9638-a1b8cf36523f"></script><script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":false,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>寫好 Python Docstring 的 4 個層次——從簡單到詳細 - Code and Me</title>
  <meta name="generator" content="Hexo 6.3.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Code and Me</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/archives/" class="">
        <li class="mobile-menu-item">文章列表
          </li>
      </a><a href="/categories/" class="">
        <li class="mobile-menu-item">分類
          </li>
      </a><a href="/series/" class="">
        <li class="mobile-menu-item">系列
          </li>
      </a><a href="/subscribe/" class="subscribe-link ">
        <li class="mobile-menu-item">訂閱
          </li>
      </a><a target="_blank" rel="noopener" href="https://kyomind.notion.site/40b324f98ca94827921a6831b0d7a38f" class="">
        <li class="mobile-menu-item">電子報
          </li>
      </a><a href="/about/" class="">
        <li class="mobile-menu-item">關於
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Code and Me</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu"><li class="menu-item">
        <a class="menu-item-link" href="/archives/" >
          文章列表
          </a>
      </li>
    <li class="dropdown">
        <a class="menu-item-link" href="/categories/">
          分類 <b><span style="position: relative; top: -3px;">⌵</span></b>
          </a>
        <div class="dropdown-content">
          
            <a href="/categories/%E5%BF%83%E5%BE%97/">心得 (85)</a>
          
            <a href="/categories/Django/">Django (43)</a>
          
            <a href="/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">軟體開發 (46)</a>
          
            <a href="/categories/%E7%AD%86%E8%A8%98%E8%BB%9F%E9%AB%94/">筆記軟體 (15)</a>
          
            <a href="/categories/VS-Code/">VS Code (9)</a>
          
        </div>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/series/" >
          系列
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/subscribe/" style="color: #3b82f6;" >
          訂閱
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" target="_blank" rel="noopener" href="https://kyomind.notion.site/40b324f98ca94827921a6831b0d7a38f" >
          電子報
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/about/" >
          關於
          </a>
      </li>
    </ul>
</nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">寫好 Python Docstring 的 4 個層次——從簡單到詳細
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2025-05-03
        </span><span class="post-category">
            <a href="/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">軟體開發</a>
            </span>
        </div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目錄</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E9%BA%BC%E6%98%AF-Docstring%EF%BC%9F"><span class="toc-text">什麼是 Docstring？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E6%96%87%E4%B8%BB%E6%97%A8%E8%88%87%E7%9B%AE%E6%A8%99%E8%AE%80%E8%80%85"><span class="toc-text">本文主旨與目標讀者</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docstring-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F%E8%88%87%E9%A2%A8%E6%A0%BC"><span class="toc-text">Docstring 的基本格式與風格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E6%98%AF%E6%AF%8F%E5%80%8B%E5%87%BD%E5%BC%8F%E9%83%BD%E9%9C%80%E8%A6%81-Docstring"><span class="toc-text">不是每個函式都需要 Docstring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docstring-%E7%9A%84%E5%9B%9B%E5%80%8B%E5%B1%A4%E6%AC%A1"><span class="toc-text">Docstring 的四個層次</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%8F%AA%E6%9C%89%E4%B8%BB%E6%97%A8%E7%9A%84-Docstring"><span class="toc-text">一、只有主旨的 Docstring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%B8%BB%E6%97%A8-%E8%AA%AA%E6%98%8E%EF%BC%88%E5%8A%A0%E4%B8%8A-context%EF%BC%8C%E8%AE%93%E4%BA%BA%E7%9C%8B%E5%BE%97%E6%87%82%E7%94%A8%E5%9C%A8%E4%BB%80%E9%BA%BC%E6%83%85%E5%A2%83%EF%BC%89"><span class="toc-text">二、主旨 + 說明（加上 context，讓人看得懂用在什麼情境）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%B8%BB%E6%97%A8-%E5%8F%83%E6%95%B8%E8%88%87%E5%9B%9E%E5%82%B3"><span class="toc-text">3. 主旨 + 參數與回傳</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%B8%BB%E6%97%A8-%E8%AA%AA%E6%98%8E-%E5%8F%83%E6%95%B8%E8%88%87%E5%9B%9E%E5%82%B3-%E7%AF%84%E4%BE%8B"><span class="toc-text">四、主旨 + 說明 + 參數與回傳 + 範例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B5%90%E8%AA%9E%EF%BC%9A%E5%AF%AB%E7%B5%A6%E3%80%8C%E4%B8%8B%E4%B8%80%E5%80%8B%E9%96%8B%E7%99%BC%E8%80%85%E3%80%8D%E7%9A%84%E6%83%85%E6%9B%B8"><span class="toc-text">結語：寫給「下一個開發者」的情書</span></a></li></ol>
    </div>
  </div><div class="post-content"><p><img src="https://img.kyomind.tw/code-and-me.png"></p>
<p>在〈<a href="https://blog.kyomind.tw/beyond-the-basic-stuff-with-python-03/">Docstring 的重要性——《Python 功力提升的樂趣》</a>〉一文中，我提到了：</p>
<blockquote>
<p>Docstring 也不是有寫就行，還需要從「<strong>讀者</strong>（也就是你的同事）」的角度去思考與表達。不然看起來會很像開發者的自言自語——沒人看得懂。</p>
</blockquote>
<p>在工作上使用 Python 多年，即便是經驗豐富的 Python 工程師，很多人也未必養成了撰寫 Docstring 的習慣。</p>
<p>畢竟在日常趕專案的場景下，一段程式碼能否 work，往往比「好讀、好理解」更重要——至少更急迫。</p>
<p>然而，當專案逐漸擴大、團隊成員增加時，沒有良好的 Docstring，<strong>協作上的痛苦</strong>就會慢慢浮現。</p>
<p>Docstring 不是單純寫給自己的備忘，而是寫給「<strong>下一個會看這份程式的人</strong>」。</p>
<p>當你開始用這個角度思考，你會發現，寫好 Docstring 並不是加分項，而是基本功。</p>
<blockquote>
<p><strong>那要怎樣才能寫好 Python Docstring 呢？</strong></p>
</blockquote>
<p>作為 Docstring 信奉者，本文將分享我在過去工作經驗中所累積的 <strong>Python Docstring</strong> 寫作心得，並整理成<strong>教學指南</strong>。</p>
<span id="more"></span>

<hr>
<h2 id="什麼是-Docstring？"><a href="#什麼是-Docstring？" class="headerlink" title="什麼是 Docstring？"></a>什麼是 Docstring？</h2><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Docstring">Docstring</a>（Documentation String）是 Python 中用來描述<strong>模組、類別、函式（包括類別中的方法）</strong>用途的<strong>字串</strong>。</p>
<p>它通常放在定義語法（比如<code>def xxx</code>）之後，由<strong>三個雙引號</strong>（<code>&quot;&quot;&quot;</code>）包覆，方便工具或 IDE 自動擷取，生成文件或顯示說明。</p>
<p>良好的 Docstring 不僅可以幫助他人快速理解程式碼，也能在開發、維護、協作中扮演關鍵角色。</p>
<p>它是「<a href="https://blog.kyomind.tw/django-ninja-17/#Documentation-as-Code">程式碼即文件</a>」理念的具體實踐方式之一。</p>
<p>Docstring 這種設計在許多語言中都有，例如 Java 的 JavaDoc、C# 的 XML Comments 等，Python 版本因為簡單好用，更成為日常開發不可或缺的一環。</p>
<hr>
<h2 id="本文主旨與目標讀者"><a href="#本文主旨與目標讀者" class="headerlink" title="本文主旨與目標讀者"></a>本文主旨與目標讀者</h2><p><strong>我將透過具體的案例來闡述如何寫好 Docstring。</strong></p>
<p>本文主要的目標讀者，是那些已經在用 Python 開發專案、參與團隊協作的工程師們——在團隊協作的場景下，Docstring 的重要性會<strong>遠超過</strong>個人開發。</p>
<p>換言之，Docstring 象徵的是「<strong>溝通的藝術</strong>」😎</p>
<p>當專案愈來愈複雜，或有新成員加入時，Docstring 會展現它的價值：</p>
<ul>
<li>協助他人快速理解你的函式用途與用法</li>
<li>減少口頭或書面文件的補充說明成本</li>
<li>提升程式碼自我解釋（self-explanatory）的能力</li>
<li>幫助自己未來回頭維護時快速理解程式</li>
</ul>
<p>本文將從「實用角度」出發，分享如何根據不同情境，靈活且有效地撰寫（或選擇不寫）Python Docstring。</p>
<h2 id="Docstring-的基本格式與風格"><a href="#Docstring-的基本格式與風格" class="headerlink" title="Docstring 的基本格式與風格"></a>Docstring 的基本格式與風格</h2><p>Python Docstring 的格式與風格並沒有固定的規範，但有一些通用的慣例與建議。</p>
<p>按照〈<a target="_blank" rel="noopener" href="https://peps.python.org/pep-0257/">PEP 257 – Docstring Conventions</a>〉的建議，Docstring 必須用三個雙引號（<code>&quot;&quot;&quot;</code>）包起來。</p>
<p>以下是 Python 社群中常見的 Docstring 風格：</p>
<ul>
<li>Google Style</li>
<li>Numpy Style</li>
<li>reStructuredText (Sphinx)</li>
</ul>
<p>本文範例皆採用 Google Style，這是我過去工作中使用的風格，它簡潔且容易閱讀。</p>
<p>不過，我覺得風格不是重點，清楚與一致才是關鍵。</p>
<p>下一篇文章會介紹如何用 VS Code 的套件快速生成各種風格的 Docstring，這裡就先不深入。</p>
<hr>
<h2 id="不是每個函式都需要-Docstring"><a href="#不是每個函式都需要-Docstring" class="headerlink" title="不是每個函式都需要 Docstring"></a>不是每個函式都需要 Docstring</h2><p>Docstring 可以寫在模組、類別與函式的開頭，我們在這裡主要討論函式的 Docstring 撰寫，因為它是<strong>最常用</strong>，同時也是<strong>最需要說明</strong>的程式碼元件。</p>
<p>在開始介紹四個層次之前，有一個觀念必須先釐清：<strong>不是每個函式都需要 Docstring</strong>。</p>
<p>有些函式，一看就知道用途，例如簡單的資料轉換、資料初始化，或是完全沒有參數。</p>
<p>這些函式若執意要寫 Docstring，反而可能造成<strong>雜訊</strong>。</p>
<p>簡單來說：</p>
<blockquote>
<p>如果一個函式「一望即知」，那就不需要為寫而寫。</p>
</blockquote>
<p>Docstring 的重點在於補充「<strong>別人不容易一眼看懂的東西</strong>」，它是一種<strong>基於「同理心」的實踐</strong>，而非教條。</p>
<hr>
<h2 id="Docstring-的四個層次"><a href="#Docstring-的四個層次" class="headerlink" title="Docstring 的四個層次"></a>Docstring 的四個層次</h2><p>根據不同的情境與複雜度，決定 Docstring 撰寫的詳細程度很重要。</p>
<p>不過，必須承認，在多數情況下，我們都是透過工具輔助——而工具產生的通常是下述<strong>第三層次</strong>（對輸入輸出有完整說明）的 Docstring 框架。</p>
<p>因此，如果把每一個 Docstring 都寫到第三層次，我也不反對。畢竟它最常見。</p>
<p>我自己則會依照程式碼的複雜度，進行一定程度的調整。</p>
<p>無論如何，在實務情境中，<strong>有寫通常比沒寫好</strong>☺️ </p>
<h2 id="一、只有主旨的-Docstring"><a href="#一、只有主旨的-Docstring" class="headerlink" title="一、只有主旨的 Docstring"></a>一、只有主旨的 Docstring</h2><p>有些簡單但<strong>需要了解「大概意圖」</strong>的函式，只需要一句話就足夠：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_internal_user</span>(<span class="params">email</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;判斷電子郵件是否為內部使用者&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> email.endswith(<span class="string">&quot;@company.com&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>這樣的 Docstring 雖然簡單，卻仍比沒有好。</p>
<p>這段主旨的文眼在於「<strong>判斷</strong>」二字，它直接說明了程式的行為與意圖，讓別人一眼就能知曉這個函式<strong>打算做什麼</strong>——判斷並回傳布林值。</p>
<h3 id="錯誤示範"><a href="#錯誤示範" class="headerlink" title="錯誤示範"></a>錯誤示範</h3><p>要寫好一行式的 Docstring 有時並不容易，我們偶爾會陷入<strong>過於細節的描述</strong>，以下是個不太好的示範：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;透過 SQL 查詢比對用戶的電子郵件是否為內部使用者&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>這種寫法就太底層了，提到了那些<strong>不必要的細節</strong>（SQL 查詢），容易讓人分心。</p>
<p>Docstring 應描述<strong>高階意圖</strong>，而非內部細節。</p>
<hr>
<h2 id="二、主旨-說明（加上-context，讓人看得懂用在什麼情境）"><a href="#二、主旨-說明（加上-context，讓人看得懂用在什麼情境）" class="headerlink" title="二、主旨 + 說明（加上 context，讓人看得懂用在什麼情境）"></a>二、主旨 + 說明（加上 context，讓人看得懂用在什麼情境）</h2><p>當函式稍微複雜，或有特定使用情境時，可以有更多的<strong>說明</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">clear_user_session</span>(<span class="params">user_id</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    清除使用者的登入狀態</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    注意：此操作會立即登出使用者，需要重新登入</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>主旨和說明中間推薦有<strong>一行空白</strong>。</p>
<p>這樣不僅格式美觀，也是許多 IDE 或文件生成工具提取摘要的重要依據。</p>
<p>直接在 Docstring 說明，能<strong>避免不必要的推測</strong>，這樣的補充既實用又貼心。</p>
<h3 id="說明的變化與彈性"><a href="#說明的變化與彈性" class="headerlink" title="說明的變化與彈性"></a>說明的變化與彈性</h3><p>說明沒有一定規則，重點在於補充那些「使用者<strong>不容易自行推測</strong>」的資訊。</p>
<p>你覺得<strong>最需要提醒使用者（開發者）什麼</strong>，就寫下這些內容。</p>
<p>只要能幫助他人更好理解，怎麼寫都可以。</p>
<p>對於複雜的情境，說明<strong>可能會很長</strong>（常見於開源專案的 Docstring），這是正常的！</p>
<hr>
<h2 id="3-主旨-參數與回傳"><a href="#3-主旨-參數與回傳" class="headerlink" title="3. 主旨 + 參數與回傳"></a>3. 主旨 + 參數與回傳</h2><p>若函式有多個參數，清楚列出參數與回傳型態與說明，能大幅降低理解門檻。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_discounted_price</span>(<span class="params">original_price, discount_rate</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    計算折扣後的價格</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        original_price (float): 原價</span></span><br><span class="line"><span class="string">        discount_rate (float): 折扣率，介於 0 到 1 之間</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        float: 折扣後的價格</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> original_price * (<span class="number">1</span> - discount_rate)</span><br></pre></td></tr></table></figure>

<p>這個第三層次，大概是我們寫 Docstring 時<strong>最常使用的格式</strong>！</p>
<p>函式的<strong>參數與回傳</strong>，是最容易讓人感到困惑的地方。</p>
<p>我們可以想像：同事寫了一個共用函式，現在你要去調用它，你肯定需要知道，它應該有什麼樣的 input，以及調用之後會得到<strong>什麼樣的結果</strong>。</p>
<p>如果不清楚這些，根本無法正常使用這個函式。</p>
<p>因此，在有參數的函式裡，每個參數代表什麼，包括參數型別，都很重要。</p>
<p><strong>Docstring 的價值在這裡得到了充分發揮。</strong></p>
<h3 id="說明的轉換"><a href="#說明的轉換" class="headerlink" title="說明的轉換"></a>說明的轉換</h3><p>細心的你可能發現了，這個例子沒有一段獨立的說明。</p>
<p>原因很簡單，在這個地方的說明，<strong>已經化為了對 input 跟 output 的闡釋。</strong></p>
<p>額外再寫一段說明，可能會有些冗餘。（但也不盡然）</p>
<p>這裡只是要提醒，在這種有參數的情境下，說明落段往往會被省略。 </p>
<hr>
<h2 id="四、主旨-說明-參數與回傳-範例"><a href="#四、主旨-說明-參數與回傳-範例" class="headerlink" title="四、主旨 + 說明 + 參數與回傳 + 範例"></a>四、主旨 + 說明 + 參數與回傳 + 範例</h2><p>第四層次的重點是<strong>舉例</strong>。</p>
<p>有了舉例，就算不清楚函式細節，也能迅速理解它的用途與結果。</p>
<p>這個場景中，資料庫裡面有一個欄位已經儲存了格式化過的 Mac 地址，長這樣：<code>1234567890AB</code>。</p>
<p>我們要從 API 回傳給前端的時候，需要做一些處理，它讓變成這樣：<code>12 34 56 78 90 AB</code>。</p>
<p>它真正的邏輯只有這一行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot; &quot;</span>.join(mac_address[i : i + <span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">12</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>但如果你看程式碼，應該不太可能一眼就看出它處理的結果啦！——除非你是 AI 🤖</p>
<p>但加上舉例之後就一目了然了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">format_output_mac_address</span>(<span class="params">mac_address: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    對要輸出至 UI 的 MAC address 格式化</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    注意：僅供「序列化」時提高可讀性使用，不是對進入資料庫的資料做處理</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        mac_address (str): MAC address，來源為資料庫</span></span><br><span class="line"><span class="string">        格式:</span></span><br><span class="line"><span class="string">            1. 12 位數字(含英文)，不含冒號</span></span><br><span class="line"><span class="string">            2. 英文必為大寫</span></span><br><span class="line"><span class="string">        範例: 1234567890AB</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        str: 格式化後的 MAC address</span></span><br><span class="line"><span class="string">        範例: 1234567890AB -&gt; 12 34 56 78 90 AB</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Raises:</span></span><br><span class="line"><span class="string">        ValueError: MAC address 長度不為 12</span></span><br><span class="line"><span class="string">        TypeError: MAC address 不是字串</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(mac_address) != <span class="number">12</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(_(<span class="string">&quot;MAC address must be 12 digits&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(mac_address, <span class="built_in">str</span>):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(_(<span class="string">&quot;MAC address must be string&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot; &quot;</span>.join(mac_address[i : i + <span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">12</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>使用範例能讓讀者一秒理解「怎麼用」與「會拿到什麼結果」。</p>
<p>這是許多 Docstring 常被忽略的超級關鍵。</p>
<h3 id="再論舉例的重要性"><a href="#再論舉例的重要性" class="headerlink" title="再論舉例的重要性"></a>再論舉例的重要性</h3><p>上述例子的 output 其實算是很單純的。</p>
<p>很多時候，函式的 output 可能是一個字典，究竟有哪些 key、value？一言難盡！</p>
<p>這種情況的舉例就會變得特別重要：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_user_summary</span>(<span class="params">user_id: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    (略)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    範例:</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            &quot;name&quot;: &quot;Alice&quot;,</span></span><br><span class="line"><span class="string">            &quot;last_login&quot;: datetime.datetime(2025, 5, 3, 12, 30),</span></span><br><span class="line"><span class="string">            &quot;quota&quot;: (520, 1000)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>作為函式的調用方，我常常需要<strong>直接使用</strong>回傳值裡面的元素，所以我希望能一眼就看出這個 output 到底是什麼、<strong>長得什麼樣</strong>——舉例真的很重要。</p>
<p>在我看來，舉例幾乎是最關鍵的 context 補充方式。</p>
<hr>
<h2 id="結語：寫給「下一個開發者」的情書"><a href="#結語：寫給「下一個開發者」的情書" class="headerlink" title="結語：寫給「下一個開發者」的情書"></a>結語：寫給「下一個開發者」的情書</h2><p>Docstring 就像一封情書，寫給未來的自己、同事或其他開發者。</p>
<p>我打從心底認為，Docstring 有著<strong>十分務實</strong>的一面。</p>
<p>從本文的例子中，你應該能夠感受到在<strong>有和沒有</strong> Docstring 的情況下，理解這些程式碼所需要的<strong>時間差距與認知負擔</strong>。</p>
<p>而這正是 Docstring 的價值所在。</p>

      </div>

      

      
      

<div>
  <script type="text/javascript">
    document.write(
      "<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 212px; width: 100%;' src='https://button.like.co/in/embed/kyomind/button?referrer=" +
      encodeURIComponent(location.href.split("?")[0].split("#")[0]) + "'></iframe>");
  </script>
<div>

<div class="article-cta">

    喜歡這篇文章？歡迎<a href="/subscribe/">訂閱本站</a>，或<a href="https://portaly.cc/kyomind/support" target="_blank">支持我的創作</a>。

</div>

    <b style="font-size:21px">
      相關文章
    </b><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/clean-code-python/" title="在天瓏買了兩本 Python 新書與一生的追求" rel="bookmark">在天瓏買了兩本 Python 新書與一生的追求</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/flake8-and-black/" title="Python Flake8 與 Black Formatter 擴充套件快速上手" rel="bookmark">Python Flake8 與 Black Formatter 擴充套件快速上手</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/flake8-yapf-setting/" title="VS Code 設定 Python Linter、Formatter 教學" rel="bookmark">VS Code 設定 Python Linter、Formatter 教學</a></h3></div></li></ul><footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/Python/">Python</a>
            <a href="/tags/Code-Formatting/">Code Formatting</a>
            <a href="/tags/Clean-Code/">Clean Code</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/hetzner/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Hetzner VPS 實測：比 DigitalOcean 更划算的選擇？</span>
        <span class="prev-text nav-mobile">Hetzner VPS 實測：比 DigitalOcean 更划算的選擇？</span>
      </a>
    <a class="next" href="/introducing-uv/">
        <span class="next-text nav-default">Python 套件管理器 uv 介紹——與 Poetry 比較</span>
        <span class="next-text nav-mobile">Python 套件管理器 uv 介紹——與 Poetry 比較</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    
      

<div style="background-color: #e7e9ec; border-radius: 5px;">
  <div class="categories">
    <div class="categories-tags">
      <a class="category-link" href="/categories/Django/">Django<span class="category-count">43</span></a> <a class="category-link" href="/categories/VS-Code/">VS Code<span class="category-count">9</span></a> <a class="category-link" href="/categories/%E5%BF%83%E5%BE%97/">心得<span class="category-count">85</span></a> <a class="category-link" href="/categories/%E7%AD%86%E8%A8%98%E8%BB%9F%E9%AB%94/">筆記軟體<span class="category-count">15</span></a> <a class="category-link" href="/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">軟體開發<span class="category-count">46</span></a>
    </div>
  </div>
</div>
</article></div><div class="comments" id="comments"><div id="utterances-container"></div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:odinxp@email.com" class="iconfont icon-email" title="email"></a>
        <a target="_blank" rel="noopener" href="https://github.com/kyomind" class="iconfont icon-github" title="github"></a>
        <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/kyo-huang/" class="iconfont icon-linkedin" title="linkedin"></a>
        <a target="_blank" rel="noopener" href="https://x.com/kyomind" class="iconfont icon-twitter" title="twitter"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">and</span>
  <span class="theme-info">
    <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2021 - 2025<span class="heart">
      <i class="iconfont icon-right"></i>
    </span>
    <span class="author">Kyo Huang</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script>
    var container = document.getElementById('utterances-container')
    var script = document.createElement('script')
    script.src = 'https://utteranc.es/client.js'
    script.setAttribute('repo', 'kyomind/blog-reply')
    script.setAttribute('issue-term', 'title')
    script.setAttribute('theme', 'github-light')
    script.setAttribute('label', 'utterances')
    script.crossorigin = 'anonymous'
    script.async = true

    container.appendChild(script)
  </script><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-TW">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@kyomind">
<meta property="og:type" content="article"><meta name="twitter:title" content="Django Ninja æ•™å­¸ 28ï¼šèº«åˆ†èªè­‰â€”â€”Session èªè­‰èˆ‡å…¨åŸŸè¨­å®š">
  <meta property="og:title" content="Django Ninja æ•™å­¸ 28ï¼šèº«åˆ†èªè­‰â€”â€”Session èªè­‰èˆ‡å…¨åŸŸè¨­å®š"><meta name="twitter:description" content="æœ¬æ–‡ä»‹ç´¹ Django Ninja å¦‚ä½•å¯¦ç¾èº«åˆ†èªè­‰ï¼Œä½¿ç”¨ Django å…§å»ºçš„ session èªè­‰ï¼Œä¸¦è¨­å®šå…¨åŸŸèªè­‰ï¼Œè®“ API æ›´åŠ å®‰å…¨ã€‚">
  <meta property="og:description" content="æœ¬æ–‡ä»‹ç´¹ Django Ninja å¦‚ä½•å¯¦ç¾èº«åˆ†èªè­‰ï¼Œä½¿ç”¨ Django å…§å»ºçš„ session èªè­‰ï¼Œä¸¦è¨­å®šå…¨åŸŸèªè­‰ï¼Œè®“ API æ›´åŠ å®‰å…¨ã€‚"><meta name="twitter:image" content="https://i.imgur.com/5gGprsq.png">
  <meta property="og:image" content="https://i.imgur.com/5gGprsq.png">
<meta name="description" content="æœ¬æ–‡ä»‹ç´¹ Django Ninja å¦‚ä½•å¯¦ç¾èº«åˆ†èªè­‰ï¼Œä½¿ç”¨ Django å…§å»ºçš„ session èªè­‰ï¼Œä¸¦è¨­å®šå…¨åŸŸèªè­‰ï¼Œè®“ API æ›´åŠ å®‰å…¨ã€‚" />


<meta property="og:locale" content="zh-TW" />
<meta property="og:site_name" content="Code and Me" />
<meta property="article:publisher" content="https://blog.kyomind.tw" />
<meta property="article:author" content="Kyo Huang" /><meta property="article:section" content="Django Ninja ç³»åˆ—" />
            

  <meta property="article:modified_time" content="2024-10-10T02:46:38+08:00" />




  <meta property="article:published_time" content="2024-10-10T01:42:57+08:00" />



<meta name="author" content="Kyo Huang" />
<meta http-equiv="content-language" content="zh-TW" />
<link rel="alternate" href="/atom.xml" title="Code and Me" type="application/atom+xml">
 
 





<link rel="icon" type="image/png" sizes="144x144" href="/favicon-144x144.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" href="/favicon.ico" sizes="any">


<link rel="canonical" href="https://blog.kyomind.tw/django-ninja-28/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NL7WVE1X7Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NL7WVE1X7Z');

</script><script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":false,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>Django Ninja æ•™å­¸ 28ï¼šèº«åˆ†èªè­‰â€”â€”Session èªè­‰èˆ‡å…¨åŸŸè¨­å®š - Code and Me</title>
  <meta name="generator" content="Hexo 6.3.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Code and Me</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/archives/">
        <li class="mobile-menu-item">æ–‡ç« åˆ—è¡¨
          </li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">åˆ†é¡
          </li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">æ¨™ç±¤
          </li>
      </a><a href="/ranking/">
        <li class="mobile-menu-item">æ’å
          </li>
      </a><a href="/series/">
        <li class="mobile-menu-item">ç³»åˆ—
          </li>
      </a><a href="/subscribe/">
        <li class="mobile-menu-item">è¨‚é–±
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">é—œæ–¼
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Code and Me</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu"><li class="menu-item">
        <a class="menu-item-link" href="/archives/">
          æ–‡ç« åˆ—è¡¨
          </a>
      </li>
    <li class="dropdown">
        <a class="menu-item-link" href="/categories/">
          åˆ†é¡ <b><span style="position: relative; top: -3px;">âŒµ</span></b>
          </a>
        <div class="dropdown-content">
          
            <a href="/categories/%E6%9B%B8%E8%A9%95-%C3%97-%E7%AD%86%E8%A8%98/">æ›¸è©• Ã— ç­†è¨˜ (13)</a>
          
            <a href="/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">è»Ÿé«”é–‹ç™¼ (24)</a>
          
            <a href="/categories/Django/">Django (12)</a>
          
            <a href="/categories/%E5%BF%83%E5%BE%97/">å¿ƒå¾— (38)</a>
          
            <a href="/categories/Weekly-Review/">Weekly Review (38)</a>
          
            <a href="/categories/VS-Code/">VS Code (9)</a>
          
            <a href="/categories/Docker/">Docker (2)</a>
          
            <a href="/categories/Django-Ninja-%E7%B3%BB%E5%88%97/">Django Ninja ç³»åˆ— (28)</a>
          
        </div>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/tags/">
          æ¨™ç±¤
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/ranking/">
          æ’å
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/series/">
          ç³»åˆ—
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/subscribe/">
          è¨‚é–±
          </a>
      </li>
    <li class="menu-item">
        <a class="menu-item-link" href="/about/">
          é—œæ–¼
          </a>
      </li>
    </ul>
</nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">Django Ninja æ•™å­¸ 28ï¼šèº«åˆ†èªè­‰â€”â€”Session èªè­‰èˆ‡å…¨åŸŸè¨­å®š
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2024-10-10
        </span><span class="post-category">
            <a href="/categories/Django-Ninja-%E7%B3%BB%E5%88%97/">Django Ninja ç³»åˆ—</a>
            </span>
        </div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">æ–‡ç« ç›®éŒ„</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AA%8D%E8%AD%89%E7%9A%84%E5%85%A9%E5%80%8B%E5%B1%A4%E6%AC%A1"><span class="toc-text">èªè­‰çš„å…©å€‹å±¤æ¬¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%A6%E4%BD%9C%E3%80%8C%E4%BD%BF%E7%94%A8%E8%80%85%E7%99%BB%E5%85%A5%E3%80%8DAPI"><span class="toc-text">å¯¦ä½œã€Œä½¿ç”¨è€…ç™»å…¥ã€API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%BA-API-%E5%8A%A0%E4%B8%8A%E3%80%8C%E8%AA%8D%E8%AD%89%E4%BF%9D%E8%AD%B7%E3%80%8D"><span class="toc-text">ç‚º API åŠ ä¸Šã€Œèªè­‰ä¿è­·ã€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Django-Ninja-%E7%9A%84-request-auth"><span class="toc-text">Django Ninja çš„ request.auth</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-auth-%E8%A7%A3%E6%9E%90"><span class="toc-text">request.auth è§£æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%9F%9F%E8%AA%8D%E8%AD%89%E7%9A%84%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BE%8B%E5%A4%96"><span class="toc-text">å…¨åŸŸèªè­‰çš„è¨­å®šèˆ‡ä¾‹å¤–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%B5%90%E8%88%87%E4%B8%8B%E4%B8%80%E6%AD%A5"><span class="toc-text">å°çµèˆ‡ä¸‹ä¸€æ­¥</span></a></li></ol>
    </div>
  </div><div class="post-content"><p><img src="https://i.imgur.com/5gGprsq.png" alt="2024 iThome éµäººè³½"><span class="cap">2024 iThome éµäººè³½</span></p>
<p>æ­¡è¿ä¾†åˆ°ç¬¬ä¸ƒç« ï¼æœ¬ç« ç¸½å…±æœ‰å…©ç¯‡å…§å®¹ï¼š</p>
<ul>
<li>å· 28ï¼šèº«åˆ†èªè­‰â€”â€”Session èªè­‰èˆ‡å…¨åŸŸè¨­å®š</li>
<li>å· 29ï¼šå–®å…ƒæ¸¬è©¦â€”â€”ä½¿ç”¨ Test Client èˆ‡ pytest æ¸¬è©¦ API</li>
</ul>
<p>é€™äº›ä¸»é¡Œçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œ<strong>ä¸¦éç”± Django Ninja å¯¦ä½œ</strong>ï¼Œä½†æ¡†æ¶ä»æä¾›äº†<strong>ä¸€å®šç¨‹åº¦çš„æ•´åˆ</strong>ã€‚ä¸¦ä¸”ï¼Œé€™äº›åŠŸèƒ½å°æ–¼ä»»ä½• Django å°ˆæ¡ˆä¾†èªªï¼Œéƒ½è‡³é—œé‡è¦ã€‚</p>
<p>æœ¬æ–‡ä»‹ç´¹å¹¾ä¹æ‰€æœ‰ API å°ˆæ¡ˆéƒ½éœ€è¦çš„â€”â€”<strong>èº«åˆ†èªè­‰</strong>ï¼ˆAuthenticationï¼‰ã€‚</p>
<p>æˆ‘å€‘å°‡æ¢è¨å¦‚ä½•åœ¨ Django Ninja ä¸­åˆ©ç”¨ Django å…§å»ºçš„ session-based èªè­‰ï¼Œå¯¦ç¾å®Œæ•´çš„ç™»å…¥é©—è­‰åŠŸèƒ½ï¼Œä¸¦é€²ä¸€æ­¥èªªæ˜å¦‚ä½•è¨­å®š<strong>å…¨åŸŸèªè­‰</strong>ï¼Œä»¥æ¸›å°‘ç¨‹å¼ç¢¼çš„é‡è¤‡ã€‚</p>
<p>æœ¬æ–‡æ‰€æœ‰çš„ç¨‹å¼ç¢¼æ”¹å‹•ï¼Œå¯åƒè€ƒ<a target="_blank" rel="noopener" href="https://github.com/kyomind/Django-Ninja-Tutorial/pull/19">é€™å€‹ PR</a>ã€‚</p>
<hr>
<h2 id="èªè­‰çš„å…©å€‹å±¤æ¬¡"><a href="#èªè­‰çš„å…©å€‹å±¤æ¬¡" class="headerlink" title="èªè­‰çš„å…©å€‹å±¤æ¬¡"></a>èªè­‰çš„å…©å€‹å±¤æ¬¡</h2><p>é€²å…¥å¯¦ä½œå‰ï¼Œæˆ‘å€‘è¦å…ˆäº†è§£ï¼Œæ‰€è¬‚çš„<strong>èº«åˆ†èªè­‰</strong>ï¼Œç©¶ç«Ÿä»£è¡¨ä»€éº¼ã€‚</p>
<p>ä»¥ã€Œå¸³è™Ÿå¯†ç¢¼ + session èªè­‰ã€ç‚ºä¾‹ï¼Œèº«åˆ†èªè­‰çš„ç¯„åœä¸»è¦æ¶µè“‹<strong>å…©å€‹éšæ®µ</strong>ã€‚</p>
<p>é¦–å…ˆï¼Œç•¶ä½¿ç”¨è€…é€éå¸³è™Ÿå¯†ç¢¼é€²è¡Œç™»å…¥æ™‚ï¼Œç³»çµ±æœƒæª¢æŸ¥é€™äº›å…§å®¹ã€ç¢ºèªèº«åˆ†åˆæ³•ã€‚ç™»å…¥æˆåŠŸå¾Œï¼Œç³»çµ±æœƒå°‡ä½¿ç”¨è€…çš„è³‡è¨Šï¼ˆæ¯”å¦‚ç”¨æˆ¶ idï¼‰å„²å­˜è‡³ sessionï¼Œä»¥<strong>ç¶­æŒç™»å…¥ç‹€æ…‹</strong>ã€‚</p>
<p>é€™æ˜¯<strong>ç™»å…¥æ™‚çš„èªè­‰</strong>ï¼Œä¹Ÿæ˜¯æˆ‘å€‘æœ€å¸¸èªªçš„èªè­‰ã€‚ï¼ˆ<strong>ç‹¹ç¾©çš„èªè­‰</strong>ï¼‰</p>
<p>æ¥è‘—ï¼Œç•¶ä½¿ç”¨è€…å˜—è©¦å­˜å–å—ã€Œèªè­‰ä¿è­·ã€çš„ API æ™‚ï¼Œç³»çµ±æœƒæª¢æŸ¥ session ä¸¦ç¢ºèªèº«åˆ†ï¼Œç¢ºä¿æ¯å€‹ API è«‹æ±‚éƒ½ä¾†è‡ª<strong>åˆæ³•ç™»å…¥</strong>çš„ä½¿ç”¨è€…ã€‚</p>
<p>ç°¡è¨€ä¹‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€éšæ®µï¼šåˆæ¬¡ç™»å…¥æ™‚çš„èº«åˆ†ç¢ºèªã€‚</li>
<li>ç¬¬äºŒéšæ®µï¼šå¾ŒçºŒè«‹æ±‚æ™‚çš„èº«åˆ†ç¢ºèªã€‚</li>
</ul>
<p>å…©å€‹å±¤æ¬¡ç›¸è¼”ç›¸æˆã€ä¸€é«”å…©é¢ï¼Œç¢ºä¿æœå‹™èƒ½å¤ åœ¨ä½¿ç”¨è€…ç™»å…¥å’Œå¾ŒçºŒæ“ä½œä¸­ï¼Œæä¾›é©ç•¶çš„å®‰å…¨ä¿éšœã€‚</p>
<span id="more"></span>

<hr>
<h2 id="å¯¦ä½œã€Œä½¿ç”¨è€…ç™»å…¥ã€API"><a href="#å¯¦ä½œã€Œä½¿ç”¨è€…ç™»å…¥ã€API" class="headerlink" title="å¯¦ä½œã€Œä½¿ç”¨è€…ç™»å…¥ã€API"></a>å¯¦ä½œã€Œä½¿ç”¨è€…ç™»å…¥ã€API</h2><p>äº†è§£äº†ä¸Šè¿°å…©å€‹å±¤æ¬¡å¾Œï¼Œæˆ‘å€‘è¦å…ˆä¾†å¯¦ä½œã€Œ<strong>ç‹¹ç¾©</strong>ã€çš„èªè­‰â€”â€”ä¹Ÿå°±æ˜¯<strong>ç™»å…¥é©—è­‰</strong>æœ¬èº«ã€‚</p>
<p>æˆ‘å€‘å°‡å»ºç«‹ä¸€å€‹ã€Œä½¿ç”¨è€…ç™»å…¥ã€APIï¼Œä¸¦ç›´æ¥é€é Django çš„<code>authenticate</code>å’Œ<code>login</code>å‡½å¼è™•ç†å¸³è™Ÿå¯†ç¢¼é©—è­‰å’Œç™»å…¥ç‹€æ…‹â€”â€”éå¸¸æ–¹ä¾¿ï¼</p>
<p><code>authenticate</code>ç”¨ä¾†<strong>é©—è­‰</strong>ä½¿ç”¨è€…è¼¸å…¥çš„å¸³è™Ÿï¼ˆ<code>username</code>ï¼‰å’Œå¯†ç¢¼æ˜¯å¦æ­£ç¢ºï¼Œ<code>login</code>å‰‡å°‡ä½¿ç”¨è€…çš„ç™»å…¥ç‹€æ…‹<strong>å„²å­˜</strong>è‡³ sessionã€‚</p>
<h3 id="ç¨‹å¼ç¢¼å¯¦ä½œ"><a href="#ç¨‹å¼ç¢¼å¯¦ä½œ" class="headerlink" title="ç¨‹å¼ç¢¼å¯¦ä½œ"></a>ç¨‹å¼ç¢¼å¯¦ä½œ</h3><p>å…ˆæ–°å¢ä¸€å€‹ç™»å…¥è«‹æ±‚ Schemaï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># user/schemas.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginRequest</span>(<span class="title class_ inherited__">Schema</span>):</span><br><span class="line">    username: <span class="built_in">str</span> = Field(examples=[<span class="string">&#x27;Alice&#x27;</span>])</span><br><span class="line">    password: <span class="built_in">str</span> = Field(examples=[<span class="string">&#x27;password123&#x27;</span>])</span><br></pre></td></tr></table></figure>

<p>ç„¶å¾Œæ˜¯ view å‡½å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth <span class="keyword">import</span> authenticate, login</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> user.schemas <span class="keyword">import</span> CreateUserRequest, LoginRequest</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="meta">@router.post(<span class="params"><span class="string">&#x27;/users/login/&#x27;</span>, summary=<span class="string">&#x27;ç™»å…¥ä½¿ç”¨è€…&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_user</span>(<span class="params"></span></span><br><span class="line"><span class="params">    request: HttpRequest, payload: LoginRequest</span></span><br><span class="line"><span class="params"></span>) -&gt; <span class="built_in">dict</span>[<span class="built_in">str</span>, <span class="built_in">str</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç™»å…¥ä½¿ç”¨è€…</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    user = authenticate(</span><br><span class="line">        request,</span><br><span class="line">        username=payload.username,</span><br><span class="line">        password=payload.password</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">if</span> user <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        login(request, user)  <span class="comment"># å°‡ä½¿ç”¨è€…ç™»å…¥ç‹€æ…‹å„²å­˜è‡³ session</span></span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;message&#x27;</span>: <span class="string">&#x27;ç™»å…¥æˆåŠŸ&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> HttpError(<span class="number">401</span>, <span class="string">&#x27;å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>éå¸¸ç°¡å–®ï¼</p>
<p>é™„å¸¶ä¸€æï¼Œæˆ‘ä¸å¤ªå–œæ­¡ç¨‹å¼ä¸­æœ‰ã€Œä¸å¿…è¦ã€çš„<code>else</code>ï¼Œæ­¤æ™‚çš„å¯«æ³•ä»ä¸ç›¡ç†æƒ³â€”â€”å› ç‚º<code>else</code><strong>å®Œå…¨å¯ä»¥çœç•¥</strong>ã€‚</p>
<p>åœ¨æœ€æ–°çš„ç¨‹å¼ç¢¼ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘å·²æ”¹æˆï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">user = authenticate(...)</span><br><span class="line"><span class="keyword">if</span> user <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    <span class="keyword">raise</span> HttpError(<span class="number">401</span>, <span class="string">&#x27;å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤&#x27;</span>)</span><br><span class="line"></span><br><span class="line">login(request, user)  <span class="comment"># å°‡ä½¿ç”¨è€…ç™»å…¥ç‹€æ…‹å„²å­˜è‡³ session</span></span><br><span class="line"><span class="keyword">return</span> &#123;<span class="string">&#x27;message&#x27;</span>: <span class="string">&#x27;ç™»å…¥æˆåŠŸ&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>é€™æ¨£çš„åšæ³•å³æ‰€è¬‚çš„ <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/%E5%8D%AB%E8%AF%AD%E5%8F%A5">Guard Clause</a> æˆ– <a target="_blank" rel="noopener" href="https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E6%95%99%E5%AE%A4/early-return-coding-skill-9f3016d4b88d">Early Return</a>ï¼ˆé›–ç„¶é€™è£¡æ˜¯ raiseï¼‰ã€‚</p>
<h3 id="ç°¡è©•èˆ‡é‡è¦è£œå……"><a href="#ç°¡è©•èˆ‡é‡è¦è£œå……" class="headerlink" title="ç°¡è©•èˆ‡é‡è¦è£œå……"></a>ç°¡è©•èˆ‡é‡è¦è£œå……</h3><p><code>authenticate</code>å’Œ<code>login</code>çš„ç”¨æ³•å¹¾ä¹æ˜¯å›ºå®šçš„ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼š</p>
<ul>
<li><code>authenticate</code>åœ¨é©—è­‰æˆåŠŸæ™‚æœƒ return å°æ‡‰çš„<code>User</code>ç‰©ä»¶ï¼Œå¤±æ•—æ™‚å‰‡è¿”å›<code>None</code>ã€‚</li>
<li><code>login</code>ä¸æœƒ returnï¼Œä½†<code>request</code>å’Œ<code>user</code>ç‚ºå¿…è¦çš„åƒæ•¸ã€‚</li>
</ul>
<p>æˆåŠŸç™»å…¥å¾Œï¼Œä½ æœƒå¾—åˆ° 200 å›æ‡‰ï¼Œä¸¦ç²å¾—å…©çµ„ cookieï¼š</p>
<p><img src="https://i.imgur.com/c6gMBDY.png"></p>
<p>é€™å°æ–¼ API clientï¼ˆæ¯”å¦‚ Postmanï¼‰ä½¿ç”¨è€…å¾ˆé‡è¦ï¼Œç•¢ç«Ÿç€è¦½å™¨æœƒè‡ªå‹•å¹«ä½ å­˜ï¼Œä½†é€™äº›å·¥å…·ä¸æœƒâ€”â€”å¥½å§ï¼Œæˆ‘éŒ¯äº†ï¼Œè‡³å°‘æˆ‘ç”¨çš„ RapidAPI æœƒ<strong>è‡ªå‹•å­˜å„²ã€ç™¼é€</strong>ï¼</p>
<p>ï¼ˆæˆ‘æ¸¬è©¦ API æ™‚é‚„è¦ºå¾—å¥‡æ€ªï¼Œæ€éº¼èªè­‰é˜²è­·éƒ½å¤±æ•ˆäº†ğŸ¤£ï¼‰</p>
<p>å¦‚æœå·¥å…·æ²’æœ‰å¹«ä½ åšï¼Œè¨˜å¾—è¦è‡ªå·±åœ¨è«‹æ±‚çš„ headers åŠ ä¸Šï¼š</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/users/2/avatar/</span> <span class="meta">HTTP/1.1</span></span><br><span class="line">...</span><br><span class="line"><span class="attribute">Cookie</span><span class="punctuation">: </span>csrftoken=...; sessionid=...</span><br><span class="line"><span class="attribute">X-CSRFToken</span><span class="punctuation">: </span>...</span><br></pre></td></tr></table></figure>

<p><code>authenticate</code>é è¨­æ˜¯ä»¥<code>AbstractUser</code>çš„<code>username</code>æ¬„ä½å’Œå¯†ç¢¼ä½œç‚ºèªè­‰åŸºæº–ï¼Œå¦‚æœæƒ³ç”¨åˆ¥çš„æ¬„ä½ï¼Œæ¯”å¦‚<code>email</code>ï¼Œå‰‡è¦è‡ªå·±è¦†å¯« Django çš„èªè­‰å¾Œç«¯ã€‚</p>
<hr>
<h2 id="ç‚º-API-åŠ ä¸Šã€Œèªè­‰ä¿è­·ã€"><a href="#ç‚º-API-åŠ ä¸Šã€Œèªè­‰ä¿è­·ã€" class="headerlink" title="ç‚º API åŠ ä¸Šã€Œèªè­‰ä¿è­·ã€"></a>ç‚º API åŠ ä¸Šã€Œèªè­‰ä¿è­·ã€</h2><p>ç™»å…¥åŠŸèƒ½å®Œæˆå¾Œï¼Œæ¥ä¸‹ä¾†æ˜¯æŠŠã€Œéœ€è¦èªè­‰æ‰èƒ½å­˜å–ã€çš„ APIï¼Œåˆ†åˆ¥åŠ ä¸Š<strong>èªè­‰ä¿è­·</strong>ï¼Œä½¿ç”¨ Django Ninja æä¾›çš„<code>django_auth</code>â€”â€”é€™æ˜¯å°ˆé–€çµ¦ Django å…§å»ºçš„ session èªè­‰ä½¿ç”¨ã€‚</p>
<p>æˆ‘å€‘ä»¥ã€Œä¸Šå‚³ avatarã€API ç‚ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ninja.security <span class="keyword">import</span> django_auth</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="meta">@router.post(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    path=<span class="string">&#x27;/users/&#123;int:user_id&#125;/avatar/&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">    summary=<span class="string">&#x27;ä¸Šå‚³ avatar&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">    auth=django_auth  <span class="comment"># åŠ ä¸Šé€™çµ„åƒæ•¸</span></span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br></pre></td></tr></table></figure>

<p>é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>auth=django_auth</code>ç¢ºä¿åªæœ‰ã€Œå·²ç™»å…¥çš„ä½¿ç”¨è€…ã€æ‰èƒ½å­˜å–æ­¤ APIï¼Œå¦å‰‡å°‡å¾—åˆ° 401 æˆ– 403 å›æ‡‰ã€‚</p>
<hr>
<h2 id="Django-Ninja-çš„-request-auth"><a href="#Django-Ninja-çš„-request-auth" class="headerlink" title="Django Ninja çš„ request.auth"></a>Django Ninja çš„ request.auth</h2><p>ä½†ä½ å¯èƒ½æœƒæƒ³åˆ°ï¼š</p>
<blockquote>
<p>å…‰æ˜¯é©—è­‰ã€Œå·²ç™»å…¥ã€é‚„ä¸å¤ å§ï¼Ÿ</p>
</blockquote>
<p>ã€Œä¸Šå‚³ avatarã€æ‡‰è©²åªèƒ½å¹«ã€Œ<strong>è‡ªå·±</strong>ã€ä¸Šå‚³ï¼Œç¸½ä¸èƒ½å¹«ã€Œ<strong>åˆ¥äºº</strong>ã€ä¸Šå‚³å¤§é ­ç…§å§ï¼</p>
<p>æ²’éŒ¯ï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨ <strong>view å‡½å¼å…§éƒ¨</strong>ï¼Œé‚„è¦<strong>å¤šä¸€å±¤é©—è­‰</strong>ã€‚</p>
<h3 id="Django-çš„request-user"><a href="#Django-çš„request-user" class="headerlink" title="Django çš„request.user"></a>Django çš„<code>request.user</code></h3><p>å‚³çµ±çš„ Django å°ˆæ¡ˆï¼Œæˆ‘å€‘æœƒé€éå‡½å¼çš„ç¬¬ä¸€åƒæ•¸â€”â€”<code>request</code>ï¼Œç”¨<code>request.user</code>ä¾†ç²å¾—<strong>ç•¶å‰ä½¿ç”¨è€…è³‡è¨Š</strong>ï¼Œæ¯”å¦‚ï¼šï¼ˆåƒè€ƒ<a target="_blank" rel="noopener" href="https://docs.djangoproject.com/en/5.1/topics/auth/default/#authentication-in-web-requests">æ–‡ä»¶</a>ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> request.user.is_authenticated:</span><br><span class="line">    <span class="comment"># Do something for authenticated users.</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># Do something for anonymous users.</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>å…·é«”ä¾†èªªï¼š</p>
<ul>
<li>ç•¶ä½¿ç”¨è€…å·²ç™»å…¥ï¼Œ<code>request.user</code>æœƒæ˜¯ä¸€å€‹<code>User</code>å¯¦ä¾‹ï¼Œä»£è¡¨<strong>ç•¶å‰ç™»å…¥çš„ä½¿ç”¨è€…</strong>ã€‚</li>
<li>æœªç™»å…¥æ™‚ï¼Œ<code>request.user</code>å‰‡æ˜¯ä¸€å€‹<code>AnonymousUser</code>å¯¦ä¾‹ï¼Œä»£è¡¨<strong>æœªç™»å…¥ä½¿ç”¨è€…</strong>ã€‚</li>
</ul>
<p>ç•¶ä½¿ç”¨è€…å·²ç™»å…¥ï¼Œæˆ‘å€‘å¯ä»¥æª¢æŸ¥<code>request.user</code>çš„å±¬æ€§ï¼Œæ¯”å¦‚<code>request.user.id</code>ï¼Œä¾†ç¢ºèª<strong>æ˜¯å¦ç‚ºã€Œæœ¬äººã€</strong>ã€‚</p>
<h3 id="Django-Ninja-çš„request-auth"><a href="#Django-Ninja-çš„request-auth" class="headerlink" title="Django Ninja çš„request.auth"></a>Django Ninja çš„<code>request.auth</code></h3><p>ä½†å¯« Django Ninja å‰‡éœ€è¦ä½¿ç”¨å®ƒæä¾›çš„<code>request.auth</code>ï¼Œå¯¦ä½œçµæœå¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">upload_avatar</span>(<span class="params">...</span>) -&gt; <span class="built_in">dict</span>[<span class="built_in">str</span>, <span class="built_in">str</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä¸Šå‚³ avatar</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># æª¢æŸ¥ç™»å…¥çš„ä½¿ç”¨è€…æ˜¯å¦ç‚ºã€Œæœ¬äººã€</span></span><br><span class="line">    <span class="keyword">if</span> request.auth.<span class="built_in">id</span> != user_id:</span><br><span class="line">        <span class="keyword">raise</span> HttpError(<span class="number">403</span>, <span class="string">&#x27;ç„¡æ¬Šé™ä¸Šå‚³å…¶ä»–ä½¿ç”¨è€…çš„ avatar&#x27;</span>)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>æ¸¬è©¦ä¸€ä¸‹ï¼Œç™»å…¥å¾Œåœ¨ URL path æ‰“åˆ¥äººçš„ id ä¾†å‘¼å«æ­¤ APIï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;detail&quot;</span>: <span class="string">&quot;ç„¡æ¬Šé™ä¸Šå‚³å…¶ä»–ä½¿ç”¨è€…çš„ avatar&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éå¸¸å¥½ï¼</p>
<hr>
<h2 id="request-auth-è§£æ"><a href="#request-auth-è§£æ" class="headerlink" title="request.auth è§£æ"></a>request.auth è§£æ</h2><p>é›–ç„¶é€™è£¡ç”¨<code>request.auth</code>ä¾†å–ä»£<code>request.user</code>ï¼Œä½†å…¶å¯¦å…©è€…çš„å…§æ¶µæœ‰<strong>å¾ˆå¤§çš„ä¸åŒ</strong>ã€‚</p>
<p>åœ¨ Django Ninja ä¸­ï¼Œ<code>request.auth</code>ä»£è¡¨çš„æ˜¯<strong>èªè­‰æµç¨‹ return çš„çµæœ</strong>ã€‚æ­¤å¤–ï¼ŒDjango Ninja å…è¨±ä½ <strong>è‡ªå®šç¾©èªè­‰æ–¹æ³•</strong>ï¼Œæ‰€ä»¥<code>request.auth</code>çš„å…§å®¹æ˜¯<strong>ä¸å›ºå®šçš„</strong>ã€‚</p>
<p>è®“æˆ‘å€‘æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚</p>
<h3 id="èªè­‰çµæœ"><a href="#èªè­‰çµæœ" class="headerlink" title="èªè­‰çµæœ"></a>èªè­‰çµæœ</h3><p><code>request.auth</code>åŒ…å«äº†<strong>ç•¶å‰èªè­‰æ–¹æ³•</strong>è¿”å›çš„å€¼ã€‚</p>
<ul>
<li>é€™å€‹å€¼å¯ä»¥æ˜¯<strong>ä»»ä½•é¡å‹</strong>ï¼Œå–æ±ºæ–¼ä½ <strong>å¦‚ä½•å¯¦ç¾èªè­‰é‚è¼¯</strong>ã€‚</li>
<li>é€™çµ¦äº†é–‹ç™¼è€…æ¥µå¤§çš„éˆæ´»æ€§ï¼Œå®ƒå¯ä»¥æ˜¯<code>User</code>ç‰©ä»¶ã€å­—ä¸²ã€Python å­—å…¸ç­‰ç­‰ã€‚</li>
</ul>
<h3 id="èªè­‰æ–¹æ³•èˆ‡å¸¸è¦‹ç”¨ä¾‹"><a href="#èªè­‰æ–¹æ³•èˆ‡å¸¸è¦‹ç”¨ä¾‹" class="headerlink" title="èªè­‰æ–¹æ³•èˆ‡å¸¸è¦‹ç”¨ä¾‹"></a>èªè­‰æ–¹æ³•èˆ‡å¸¸è¦‹ç”¨ä¾‹</h3><ul>
<li>ä½¿ç”¨ Django çš„ session èªè­‰æ™‚ï¼Œ<code>request.auth</code>æ˜¯ Django çš„<code>User</code>ç‰©ä»¶ã€‚</li>
<li>å°æ–¼ API key èªè­‰ï¼Œ<code>request.auth</code>å¯èƒ½æ˜¯ API key æœ¬èº«æˆ–èˆ‡ä¹‹ç›¸é—œçš„è³‡è¨Šã€‚</li>
<li>åœ¨ JWT èªè­‰ä¸­ï¼Œ<code>request.auth</code>å¯èƒ½åŒ…å«è§£ç¢¼å¾Œçš„ token è³‡è¨Šã€‚</li>
</ul>
<p>ç¸½ä¹‹ï¼Œåªè¦è¨˜å¾—ï¼Œæƒ³åœ¨ view å‡½å¼å…§é€²ä¸€æ­¥å–å¾—<strong>èªè­‰è³‡è¨Š</strong>ï¼Œè¦é€é<code>request.auth</code>ã€‚</p>
<hr>
<p>é€™æ¨£å°±å·²ç¶“å¯¦ä½œå®Œèªè­‰äº†ï¼Œä½†æˆ‘å€‘å¯ä»¥è®“äº‹æƒ…æ›´ã€Œç°¡å–®ã€ä¸€é»ã€‚</p>
<h2 id="å…¨åŸŸèªè­‰çš„è¨­å®šèˆ‡ä¾‹å¤–"><a href="#å…¨åŸŸèªè­‰çš„è¨­å®šèˆ‡ä¾‹å¤–" class="headerlink" title="å…¨åŸŸèªè­‰çš„è¨­å®šèˆ‡ä¾‹å¤–"></a>å…¨åŸŸèªè­‰çš„è¨­å®šèˆ‡ä¾‹å¤–</h2><p>ä¸€ä¸€å°æ¯å€‹ API è¨­å®šèªè­‰ä¿è­·çš„åƒæ•¸ï¼Œæ„Ÿè¦ºæœ‰é»ç¹ç‘£â€”â€”å°¤å…¶åœ¨ API å¤šçš„æ™‚å€™ã€‚</p>
<p>å› æ­¤ï¼ŒDjango Ninja æ”¯æ´<strong>å…¨åŸŸèªè­‰</strong>ï¼Œè®“æ‰€æœ‰ API <strong>é è¨­éƒ½ç›´æ¥å—åˆ°ä¿è­·</strong>ï¼Œé–‹ç™¼è€…åªéœ€åœ¨ç‰¹å®šè·¯ç”±ä¸­é€²è¡Œ<strong>ä¾‹å¤–</strong>è™•ç†ï¼Œ<strong>æ’é™¤</strong>ä¸æƒ³å¥—ç”¨çš„ API å³å¯ã€‚</p>
<p>å¯¦ä½œä¸Šéå¸¸ç°¡å–®ï¼ŒDjango Ninja ç›´æ¥æä¾›äº†<code>SessionAuth</code>èªè­‰é¡åˆ¥ï¼Œç”¨ä¾†è™•ç†å…¨åŸŸçš„ session-based èªè­‰ã€‚</p>
<h3 id="å¯¦ä½œå…¨åŸŸèªè­‰ï¼šä½¿ç”¨SessionAuth"><a href="#å¯¦ä½œå…¨åŸŸèªè­‰ï¼šä½¿ç”¨SessionAuth" class="headerlink" title="å¯¦ä½œå…¨åŸŸèªè­‰ï¼šä½¿ç”¨SessionAuth"></a>å¯¦ä½œå…¨åŸŸèªè­‰ï¼šä½¿ç”¨<code>SessionAuth</code></h3><p>åœ¨å°ˆæ¡ˆçš„<code>api.py</code>ä¸­åŠ å…¥ä¸‹é¢å…§å®¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># NinjaForum/api.py</span></span><br><span class="line"><span class="keyword">from</span> ninja.security <span class="keyword">import</span> SessionAuth</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">api = NinjaAPI(</span><br><span class="line">    auth=SessionAuth(),  <span class="comment"># è¨­å®šå…¨åŸŸèªè­‰</span></span><br><span class="line">    ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å¦‚æ­¤ä¸€ä¾†ï¼Œæ‰€æœ‰çš„ API éƒ½<strong>é è¨­æœ‰èªè­‰ä¿è­·</strong>ï¼Œä½ å¯ä»¥åœ¨ç‰¹å®š API ä¸­æ’é™¤ï¼Œæ¯”å¦‚ã€Œç™»å…¥ä½¿ç”¨è€…ã€ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@router.post(<span class="params">path=<span class="string">&#x27;/users/login/&#x27;</span>, summary=<span class="string">&#x27;ç™»å…¥ä½¿ç”¨è€…&#x27;</span>, auth=<span class="literal">None</span></span>)</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è·¯ç”±è£é£¾å™¨ä¸­ï¼ŒæŠŠ<code>auth</code>å®šç¾©ç‚º<code>None</code>ï¼Œ<strong>è§£é™¤</strong>èªè­‰ä¿è­·ã€‚</p>
<hr>
<h2 id="å°çµèˆ‡ä¸‹ä¸€æ­¥"><a href="#å°çµèˆ‡ä¸‹ä¸€æ­¥" class="headerlink" title="å°çµèˆ‡ä¸‹ä¸€æ­¥"></a>å°çµèˆ‡ä¸‹ä¸€æ­¥</h2><p>åœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘æ¢è¨äº† Django çš„ session èªè­‰èˆ‡ Django Ninja çš„æ•´åˆï¼Œå¯¦ä½œäº†ã€Œä½¿ç”¨è€…ç™»å…¥ã€APIï¼Œä¸¦ç‚ºå…¶ä»– API åŠ ä¸Šèªè­‰ä¿è­·ã€‚æœ€å¾Œé‚„ç¤ºç¯„äº†å¦‚ä½•å¯¦ç¾å…¨åŸŸèªè­‰ï¼Œè®“æ•´å€‹æµç¨‹æ›´åŠ ç°¡å–®ã€‚</p>
<p>ç³»åˆ—çš„æœ€å¾Œå¯¦è¸ï¼Œæˆ‘å€‘è¦ä¾†ç‚ºå°ˆæ¡ˆ<strong>å¯«æ¸¬è©¦</strong>ï¼</p>
<p>ä¸‹ä¸€ç¯‡å°‡æ¢è¨ï¼Œå¦‚ä½•ä½¿ç”¨ test client å’Œ pytest ä¾†ç‚ºæˆ‘å€‘çš„ Django API æ’°å¯«æœ‰æ•ˆçš„å–®å…ƒæ¸¬è©¦ã€‚é€™ä¸åƒ…èƒ½å¹«åŠ©æˆ‘å€‘é©—è­‰ç¾æœ‰åŠŸèƒ½ï¼Œé‚„èƒ½ç‚ºæœªä¾†çš„é–‹ç™¼å’Œé‡æ§‹æä¾›å¤šä¸€å±¤ä¿éšœã€‚</p>

      </div>

      

      
      

<div>
  <script type="text/javascript">
    document.write(
      "<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 212px; width: 100%;' src='https://button.like.co/in/embed/kyomind/button?referrer=" +
      encodeURIComponent(location.href.split("?")[0].split("#")[0]) + "'></iframe>");
  </script>
<div>

<div>
  <a href="https://portaly.cc/kyomind/support" target="_blank" class="cta">
    <span>æ”¯æŒæˆ‘çš„å‰µä½œ</span>
    <svg viewBox="0 0 13 10" height="10px" width="15px">
      <path d="M1,5 L11,5"></path>
      <polyline points="8 1 12 5 8 9"></polyline>
    </svg>
  </a>
</div>
<br>

    <b style="font-size:21px">
      ç›¸é—œæ–‡ç« 
    </b><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/django-ninja-01/" title="Django Ninja æ•™å­¸ 01ï¼šç³»åˆ—å°è®€ Ã— ç›®æ¨™è®€è€…" rel="bookmark">Django Ninja æ•™å­¸ 01ï¼šç³»åˆ—å°è®€ Ã— ç›®æ¨™è®€è€…</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/django-ninja-02/" title="Django Ninja æ•™å­¸ 02ï¼šæ¶æ§‹ Ã— ç« ç¯€å°è¦½" rel="bookmark">Django Ninja æ•™å­¸ 02ï¼šæ¶æ§‹ Ã— ç« ç¯€å°è¦½</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/django-ninja-03/" title="Django Ninja æ•™å­¸ 03ï¼šDjango Ninja ä»‹ç´¹â€”â€”èˆ‡ Django REST framework ä¸»è¦å€åˆ¥" rel="bookmark">Django Ninja æ•™å­¸ 03ï¼šDjango Ninja ä»‹ç´¹â€”â€”èˆ‡ Django REST framework ä¸»è¦å€åˆ¥</a></h3></div></li></ul><footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/Django/">Django</a>
            <a href="/tags/Django-Ninja/">Django Ninja</a>
            <a href="/tags/%E9%90%B5%E4%BA%BA%E8%B3%BD/">éµäººè³½</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/django-ninja-27/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Django Ninja æ•™å­¸ 27ï¼šè³‡æ–™æŸ¥è©¢èˆ‡éæ¿¾ï¼ˆä¸‹ï¼‰FilterSchema å¤šæ¬„ä½æŸ¥è©¢</span>
        <span class="prev-text nav-mobile">Django Ninja æ•™å­¸ 27ï¼šè³‡æ–™æŸ¥è©¢èˆ‡éæ¿¾ï¼ˆä¸‹ï¼‰FilterSchema å¤šæ¬„ä½æŸ¥è©¢</span>
      </a>
    </nav></footer>
    
      

<div style="background-color: #e7e9ec; border-radius: 5px;">
  <div class="categories">
    <div class="categories-tags">
      <a class="category-link" href="/categories/Django/">Django<span class="category-count">12</span></a> <a class="category-link" href="/categories/Django-Ninja-%E7%B3%BB%E5%88%97/">Django Ninja ç³»åˆ—<span class="category-count">28</span></a> <a class="category-link" href="/categories/Docker/">Docker<span class="category-count">2</span></a> <a class="category-link" href="/categories/VS-Code/">VS Code<span class="category-count">9</span></a> <a class="category-link" href="/categories/Weekly-Review/">Weekly Review<span class="category-count">38</span></a> <a class="category-link" href="/categories/%E5%BF%83%E5%BE%97/">å¿ƒå¾—<span class="category-count">38</span></a> <a class="category-link" href="/categories/%E6%9B%B8%E8%A9%95-%C3%97-%E7%AD%86%E8%A8%98/">æ›¸è©• Ã— ç­†è¨˜<span class="category-count">13</span></a> <a class="category-link" href="/categories/%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC/">è»Ÿé«”é–‹ç™¼<span class="category-count">24</span></a>
    </div>
  </div>
</div>
</article></div><div class="comments" id="comments"><div id="utterances-container"></div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:odinxp@email.com" class="iconfont icon-email" title="email"></a>
        <a target="_blank" rel="noopener" href="https://x.com/kyomind" class="iconfont icon-twitter" title="twitter"></a>
        <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/kyo-huang/" class="iconfont icon-linkedin" title="linkedin"></a>
        <a target="_blank" rel="noopener" href="https://github.com/kyomind" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">and</span>
  <span class="theme-info">
    <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2021 - 2024<span class="heart">
      <i class="iconfont icon-right"></i>
    </span>
    <span class="author">Kyo Huang</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script>
    var container = document.getElementById('utterances-container')
    var script = document.createElement('script')
    script.src = 'https://utteranc.es/client.js'
    script.setAttribute('repo', 'kyomind/blog-reply')
    script.setAttribute('issue-term', 'title')
    script.setAttribute('theme', 'github-light')
    script.setAttribute('label', 'utterances')
    script.crossorigin = 'anonymous'
    script.async = true

    container.appendChild(script)
  </script><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
